package com.xingguang.grid;

import com.alibaba.fastjson.JSON;
import com.alibaba.fastjson.JSONObject;
import com.xingguang.grid.entity.JxlGridReportEntity;
import com.xingguang.grid.service.IJxlGridReportService;
import org.junit.Test;
import org.junit.runner.RunWith;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;
import org.springframework.test.context.junit4.SpringRunner;
import org.springframework.web.client.RestTemplate;

import java.util.HashMap;
import java.util.Map;

/**
 * @Description 用一句话描述该文件做什么
 * @Author hedaliang
 * @Date 2017/12/2  11:02
 * @Version v1.0.0
 */
@RunWith(SpringRunner.class)
@SpringBootTest
public class GridTest {

    @Autowired
    RestTemplate restTemplate;
    @Autowired
    IJxlGridReportService gridReportService;

    @Test
    public void testMiguangToken() throws Exception{
        String dataUrl = "https://mi.juxinli.com/api/access_token?account={account}&client_secret={client_secret}";
        Map<String, Object> userMap = new HashMap<>();
        userMap.put("account", "xingguangqianbao");
        userMap.put("client_secret", "1b9617b05de443749cd147a308d3c58b");
        String jsonStr = restTemplate.getForObject(dataUrl, String.class, userMap);
        System.out.println(jsonStr);
    }

    @Test
    public void testMiguangData() throws Exception{
        String token = "d24c9b279f814c9781fadee46f0c6e3e";
        String dataUrl = "https://mi.juxinli.com/api/search?client_secret={client_secret}&access_token={token}&name={name}&id_card={id_card}&phone={phone}&version=v3";
        Map<String, Object> userMap = new HashMap<>();
        userMap.put("client_secret", "1b9617b05de443749cd147a308d3c58b");
        userMap.put("token", token);
        userMap.put("name", "孙荐");
        userMap.put("id_card", "130821198704271513");
        userMap.put("phone", "18101096010");
        String jsonStr = restTemplate.getForObject(dataUrl, String.class, userMap);
        //String jsonStr = "{\"data\":{\"auth_org\":\"xingguangqianbao\",\"consumer_label\":{\"cst_score_finally\":null,\"if_fin_buy_pre6\":null,\"if_own_car\":null,\"if_own_cc\":null,\"if_own_wg_cc\":null,\"if_pay_ins\":null},\"update_time\":1512183001666,\"user_basic\":{\"user_age\":35,\"user_city\":\"石家庄市\",\"user_gender\":\"男\",\"user_idcard\":\"130130198206061255\",\"user_idcard_valid\":true,\"user_name\":\"何大亮\",\"user_phone\":\"13611201362\",\"user_phone_city\":\"北京\",\"user_phone_operator\":\"中国移动\",\"user_phone_province\":\"北京\",\"user_province\":\"河北省\",\"user_region\":\"无极县\"},\"user_blacklist\":{\"blacklist_category\":[],\"blacklist_details\":[],\"blacklist_name_with_idcard\":false,\"blacklist_name_with_phone\":false,\"blacklist_update_time_name_idcard\":\"\",\"blacklist_update_time_name_phone\":\"\"},\"user_gray\":{\"contacts_closest\":{\"weight_all\":88.68,\"weight_applied\":88.68,\"weight_be_all\":88.68,\"weight_be_applied\":88.68,\"weight_be_black\":null,\"weight_black\":null,\"weight_to_all\":62.13,\"weight_to_applied\":62.13,\"weight_to_black\":null},\"contacts_gray_score\":{\"be_max\":null,\"be_mean\":null,\"be_min\":null,\"max\":null,\"mean\":null,\"min\":null,\"most_familiar_all\":null,\"most_familiar_applied\":null,\"most_familiar_be_all\":null,\"most_familiar_be_applied\":null,\"most_familiar_to_all\":null,\"most_familiar_to_applied\":null,\"to_max\":null,\"to_mean\":null,\"to_min\":null},\"contacts_number_statistic\":{\"black_ratio\":0.0,\"cnt_all\":3,\"cnt_applied\":3,\"cnt_be_all\":2,\"cnt_be_applied\":2,\"cnt_be_black\":0,\"cnt_black\":0,\"cnt_black2\":0,\"cnt_router\":0,\"cnt_to_all\":1,\"cnt_to_applied\":1,\"cnt_to_black\":0,\"pct_black_ratio\":0.8599849,\"pct_cnt_all\":0.008323565,\"pct_cnt_applied\":0.10904736,\"pct_cnt_be_all\":0.011980073,\"pct_cnt_be_applied\":0.11933551,\"pct_cnt_be_black\":0.82204336,\"pct_cnt_black\":0.77662706,\"pct_cnt_black2\":0.014025023,\"pct_cnt_router\":0.013962582,\"pct_cnt_to_all\":0.007347012,\"pct_cnt_to_applied\":0.084071055,\"pct_cnt_to_black\":0.8346219,\"pct_router_ratio\":0.013978719,\"router_ratio\":0.0},\"contacts_query\":{\"be_org_cnt_05\":2,\"be_org_cnt_1\":5,\"be_org_cnt_12\":15,\"be_org_cnt_2\":8,\"be_org_cnt_3\":9,\"be_org_cnt_6\":13,\"be_org_cnt_9\":15,\"be_query_cnt_05\":2,\"be_query_cnt_1\":5,\"be_query_cnt_12\":24,\"be_query_cnt_2\":8,\"be_query_cnt_3\":9,\"be_query_cnt_6\":16,\"be_query_cnt_9\":22,\"be_recent_query_time\":1508741844237,\"org_cnt_05\":2,\"org_cnt_1\":5,\"org_cnt_12\":16,\"org_cnt_2\":8,\"org_cnt_3\":9,\"org_cnt_6\":14,\"org_cnt_9\":16,\"query_cnt_05\":2,\"query_cnt_1\":5,\"query_cnt_12\":27,\"query_cnt_2\":8,\"query_cnt_3\":9,\"query_cnt_6\":19,\"query_cnt_9\":25,\"to_org_cnt_05\":1,\"to_org_cnt_1\":1,\"to_org_cnt_12\":1,\"to_org_cnt_2\":1,\"to_org_cnt_3\":1,\"to_org_cnt_6\":1,\"to_org_cnt_9\":1,\"to_query_cnt_05\":3,\"to_query_cnt_1\":3,\"to_query_cnt_12\":3,\"to_query_cnt_2\":3,\"to_query_cnt_3\":3,\"to_query_cnt_6\":3,\"to_query_cnt_9\":3,\"to_recent_query_time\":1495881696271},\"contacts_relation_distribution\":{\"be_is_familiar\":1,\"be_median_familiar\":1,\"be_not_familiar\":0,\"is_familiar\":0,\"median_familiar\":1,\"not_familiar\":2,\"to_is_familiar\":0,\"to_median_familiar\":1,\"to_not_familiar\":0},\"contacts_rfm\":{\"call_cnt_be_all\":7,\"call_cnt_be_applied\":7,\"call_cnt_be_black\":null,\"call_cnt_to_all\":1,\"call_cnt_to_applied\":1,\"call_cnt_to_black\":null,\"recent_time_be_all\":1499765499000,\"recent_time_be_applied\":1499765499000,\"recent_time_be_black\":null,\"recent_time_to_all\":1489021170000,\"recent_time_to_applied\":1489021170000,\"recent_time_to_black\":null,\"time_spent_be_all\":932,\"time_spent_be_applied\":932,\"time_spent_be_black\":null,\"time_spent_to_all\":64,\"time_spent_to_applied\":64,\"time_spent_to_black\":null},\"has_report\":true,\"phone_gray_score\":49,\"recent_active_time\":1500910611100,\"social_influence\":52.62,\"social_liveness\":26.33,\"user_phone\":\"13611201362\"},\"user_grid_id\":\"7e00867a-d70b-11e7-b5d2-525400c928e6-8948\",\"user_idcard_suspicion\":{\"idcard_applied_in_orgs\":[{\"susp_org_type\":\"其他\",\"susp_updt\":\"2017-12-01 16:33:14\"}],\"idcard_with_other_names\":[],\"idcard_with_other_phones\":[]},\"user_phone_suspicion\":{\"phone_applied_in_orgs\":[{\"susp_org_type\":\"其他\",\"susp_updt\":\"2017-12-01 16:33:14\"},{\"susp_org_type\":\"线上信用现金贷\",\"susp_updt\":\"2017-07-24 23:30:24\"}],\"phone_with_other_idcards\":[{\"susp_idcard\":\"110227199112013621\",\"susp_updt\":\"2017-07-24 23:30:24\"}],\"phone_with_other_names\":[{\"susp_name\":\"张纯\",\"susp_updt\":\"2017-07-24 23:30:24\"}]},\"user_register_orgs\":{\"phone_num\":\"13611201362\",\"register_cnt\":2,\"register_orgs_statistics\":[{\"count\":2,\"label\":\"理财/贷款\"}]},\"user_searched_history_by_day\":{\"d_15\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.8436,\"pct_cnt_cash\":0.7485,\"pct_cnt_cc\":0.6142,\"pct_cnt_cf\":0.8128,\"pct_cnt_org_all\":0.7016,\"pct_cnt_org_cash\":0.5799,\"pct_cnt_org_cc\":0.447,\"pct_cnt_org_cf\":0.6787},\"d_30\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.951,\"pct_cnt_cash\":0.9143,\"pct_cnt_cc\":0.8317,\"pct_cnt_cf\":0.924,\"pct_cnt_org_all\":0.6161,\"pct_cnt_org_cash\":0.4739,\"pct_cnt_org_cc\":0.3583,\"pct_cnt_org_cf\":0.5994},\"d_60\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.9004,\"pct_cnt_cash\":0.8294,\"pct_cnt_cc\":0.7214,\"pct_cnt_cf\":0.8654,\"pct_cnt_org_all\":0.527,\"pct_cnt_org_cash\":0.3645,\"pct_cnt_org_cc\":0.289,\"pct_cnt_org_cf\":0.5324},\"d_7\":{\"cnt\":1,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.79,\"pct_cnt_cash\":0.6922,\"pct_cnt_cc\":0.559,\"pct_cnt_cf\":0.7708,\"pct_cnt_org_all\":0.79,\"pct_cnt_org_cash\":0.6922,\"pct_cnt_org_cc\":0.559,\"pct_cnt_org_cf\":0.7708},\"d_90\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.8645,\"pct_cnt_cash\":0.7714,\"pct_cnt_cc\":0.6652,\"pct_cnt_cf\":0.8328,\"pct_cnt_org_all\":0.4841,\"pct_cnt_org_cash\":0.3177,\"pct_cnt_org_cc\":0.2584,\"pct_cnt_org_cf\":0.4979},\"m_12\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.7802,\"pct_cnt_cash\":0.6477,\"pct_cnt_cc\":0.5583,\"pct_cnt_cf\":0.7635,\"pct_cnt_org_all\":0.3817,\"pct_cnt_org_cash\":0.2392,\"pct_cnt_org_cc\":0.1965,\"pct_cnt_org_cf\":0.3925},\"m_18\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.7692,\"pct_cnt_cash\":0.6339,\"pct_cnt_cc\":0.5466,\"pct_cnt_cf\":0.7545,\"pct_cnt_org_all\":0.3698,\"pct_cnt_org_cash\":0.2311,\"pct_cnt_org_cc\":0.1898,\"pct_cnt_org_cf\":0.3802},\"m_24\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.7668,\"pct_cnt_cash\":0.6311,\"pct_cnt_cc\":0.5441,\"pct_cnt_cf\":0.7526,\"pct_cnt_org_all\":0.3672,\"pct_cnt_org_cash\":0.2293,\"pct_cnt_org_cc\":0.1882,\"pct_cnt_org_cf\":0.3775},\"m_4\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.84,\"pct_cnt_cash\":0.7341,\"pct_cnt_cc\":0.6332,\"pct_cnt_cf\":0.8126,\"pct_cnt_org_all\":0.4564,\"pct_cnt_org_cash\":0.2922,\"pct_cnt_org_cc\":0.2405,\"pct_cnt_org_cf\":0.4724},\"m_5\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.8249,\"pct_cnt_cash\":0.7115,\"pct_cnt_cc\":0.6131,\"pct_cnt_cf\":0.7999,\"pct_cnt_org_all\":0.4387,\"pct_cnt_org_cash\":0.277,\"pct_cnt_org_cc\":0.2285,\"pct_cnt_org_cf\":0.4553},\"m_6\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.8142,\"pct_cnt_cash\":0.6957,\"pct_cnt_cc\":0.5992,\"pct_cnt_cf\":0.7911,\"pct_cnt_org_all\":0.4247,\"pct_cnt_org_cash\":0.2667,\"pct_cnt_org_cc\":0.2204,\"pct_cnt_org_cf\":0.4407},\"m_9\":{\"cnt\":8,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.7925,\"pct_cnt_cash\":0.6644,\"pct_cnt_cc\":0.5726,\"pct_cnt_cf\":0.7736,\"pct_cnt_org_all\":0.3959,\"pct_cnt_org_cash\":0.2489,\"pct_cnt_org_cc\":0.2051,\"pct_cnt_org_cf\":0.4074}},\"user_searched_history_by_orgs\":[{\"org_self\":true,\"searched_date\":\"2017-12-02\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-12-01\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-18\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-17\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-15\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-08\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-07\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-06\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-05\",\"searched_org\":\"其他\"}],\"user_searched_statistic\":{\"searched_org_cnt\":1}},\"message\":\"获取蜜罐查询成功\",\"spend_time\":322,\"code\":\"MIGUAN_SEARCH_SUCCESS\"}";
        //String jsonStr = "{\"data\":{\"auth_org\":\"xingguangqianbao\",\"consumer_label\":{\"cst_score_finally\":null,\"if_fin_buy_pre6\":null,\"if_own_car\":null,\"if_own_cc\":null,\"if_own_wg_cc\":null,\"if_pay_ins\":null},\"update_time\":1512205602229,\"user_basic\":{\"user_age\":30,\"user_city\":\"承德市\",\"user_gender\":\"男\",\"user_idcard\":\"130821198704271513\",\"user_idcard_valid\":true,\"user_name\":\"孙荐\",\"user_phone\":\"18101096010\",\"user_phone_city\":\"北京\",\"user_phone_operator\":\"中国电信\",\"user_phone_province\":\"北京\",\"user_province\":\"河北省\",\"user_region\":\"承德县\"},\"user_blacklist\":{\"blacklist_category\":[],\"blacklist_details\":[],\"blacklist_name_with_idcard\":false,\"blacklist_name_with_phone\":false,\"blacklist_update_time_name_idcard\":\"\",\"blacklist_update_time_name_phone\":\"\"},\"user_gray\":{\"contacts_closest\":{\"weight_all\":119.68,\"weight_applied\":75.41,\"weight_be_all\":59.53,\"weight_be_applied\":42.84,\"weight_be_black\":null,\"weight_black\":null,\"weight_to_all\":60.16,\"weight_to_applied\":35.79,\"weight_to_black\":null},\"contacts_gray_score\":{\"be_max\":null,\"be_mean\":null,\"be_min\":null,\"max\":null,\"mean\":null,\"min\":null,\"most_familiar_all\":null,\"most_familiar_applied\":null,\"most_familiar_be_all\":null,\"most_familiar_be_applied\":null,\"most_familiar_to_all\":null,\"most_familiar_to_applied\":null,\"to_max\":null,\"to_mean\":null,\"to_min\":null},\"contacts_number_statistic\":{\"black_ratio\":0.0,\"cnt_all\":79,\"cnt_applied\":8,\"cnt_be_all\":77,\"cnt_be_applied\":7,\"cnt_be_black\":0,\"cnt_black\":0,\"cnt_black2\":1880,\"cnt_router\":21,\"cnt_to_all\":18,\"cnt_to_applied\":2,\"cnt_to_black\":0,\"pct_black_ratio\":0.8599849,\"pct_cnt_all\":0.2995348,\"pct_cnt_applied\":0.30411434,\"pct_cnt_be_all\":0.4246185,\"pct_cnt_be_applied\":0.375498,\"pct_cnt_be_black\":0.82204336,\"pct_cnt_black\":0.77662706,\"pct_cnt_black2\":0.8964692,\"pct_cnt_router\":0.37698972,\"pct_cnt_to_all\":0.09165642,\"pct_cnt_to_applied\":0.13986091,\"pct_cnt_to_black\":0.8346219,\"pct_router_ratio\":0.013978719,\"router_ratio\":0.26582278481012656},\"contacts_query\":{\"be_org_cnt_05\":2,\"be_org_cnt_1\":2,\"be_org_cnt_12\":12,\"be_org_cnt_2\":3,\"be_org_cnt_3\":4,\"be_org_cnt_6\":11,\"be_org_cnt_9\":12,\"be_query_cnt_05\":2,\"be_query_cnt_1\":3,\"be_query_cnt_12\":20,\"be_query_cnt_2\":5,\"be_query_cnt_3\":6,\"be_query_cnt_6\":13,\"be_query_cnt_9\":17,\"be_recent_query_time\":1496847681051,\"org_cnt_05\":2,\"org_cnt_1\":2,\"org_cnt_12\":12,\"org_cnt_2\":3,\"org_cnt_3\":4,\"org_cnt_6\":11,\"org_cnt_9\":12,\"query_cnt_05\":2,\"query_cnt_1\":3,\"query_cnt_12\":21,\"query_cnt_2\":5,\"query_cnt_3\":6,\"query_cnt_6\":13,\"query_cnt_9\":18,\"to_org_cnt_05\":1,\"to_org_cnt_1\":1,\"to_org_cnt_12\":1,\"to_org_cnt_2\":1,\"to_org_cnt_3\":1,\"to_org_cnt_6\":1,\"to_org_cnt_9\":1,\"to_query_cnt_05\":2,\"to_query_cnt_1\":2,\"to_query_cnt_12\":2,\"to_query_cnt_2\":2,\"to_query_cnt_3\":2,\"to_query_cnt_6\":2,\"to_query_cnt_9\":2,\"to_recent_query_time\":1478847934229},\"contacts_relation_distribution\":{\"be_is_familiar\":0,\"be_median_familiar\":36,\"be_not_familiar\":41,\"is_familiar\":0,\"median_familiar\":12,\"not_familiar\":67,\"to_is_familiar\":0,\"to_median_familiar\":9,\"to_not_familiar\":9},\"contacts_rfm\":{\"call_cnt_be_all\":186,\"call_cnt_be_applied\":10,\"call_cnt_be_black\":null,\"call_cnt_to_all\":107,\"call_cnt_to_applied\":4,\"call_cnt_to_black\":null,\"recent_time_be_all\":1478583976000,\"recent_time_be_applied\":1473665467000,\"recent_time_be_black\":null,\"recent_time_to_all\":1478580823000,\"recent_time_to_applied\":1474850915000,\"recent_time_to_black\":null,\"time_spent_be_all\":26315,\"time_spent_be_applied\":1454,\"time_spent_be_black\":null,\"time_spent_to_all\":24208,\"time_spent_to_applied\":464,\"time_spent_to_black\":null},\"has_report\":true,\"phone_gray_score\":30,\"recent_active_time\":1478597797031,\"social_influence\":95.39,\"social_liveness\":71.94,\"user_phone\":\"18101096010\"},\"user_grid_id\":\"1cfccbba-d740-11e7-be99-5254003bc703-2341\",\"user_idcard_suspicion\":{\"idcard_applied_in_orgs\":[{\"susp_org_type\":\"其他\",\"susp_updt\":\"2017-12-02 17:03:49\"},{\"susp_org_type\":\"线上消费分期\",\"susp_updt\":\"2017-03-03 17:34:16\"}],\"idcard_with_other_names\":[],\"idcard_with_other_phones\":[]},\"user_phone_suspicion\":{\"phone_applied_in_orgs\":[{\"susp_org_type\":\"其他\",\"susp_updt\":\"2017-12-02 17:03:49\"},{\"susp_org_type\":\"线上消费分期\",\"susp_updt\":\"2017-03-03 17:34:16\"}],\"phone_with_other_idcards\":[{\"susp_idcard\":\"130821198712131513\",\"susp_updt\":\"2017-11-23 17:39:26\"}],\"phone_with_other_names\":[{\"susp_name\":\"孙先生\",\"susp_updt\":\"2017-11-23 17:39:26\"}]},\"user_register_orgs\":{\"phone_num\":\"18101096010\",\"register_cnt\":null,\"register_orgs_statistics\":[]},\"user_searched_history_by_day\":{\"d_15\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.8436,\"pct_cnt_cash\":0.7485,\"pct_cnt_cc\":0.6142,\"pct_cnt_cf\":0.8128,\"pct_cnt_org_all\":0.7016,\"pct_cnt_org_cash\":0.5799,\"pct_cnt_org_cc\":0.447,\"pct_cnt_org_cf\":0.6787},\"d_30\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.7683,\"pct_cnt_cash\":0.6387,\"pct_cnt_cc\":0.5059,\"pct_cnt_cf\":0.7403,\"pct_cnt_org_all\":0.6161,\"pct_cnt_org_cash\":0.4739,\"pct_cnt_org_cc\":0.3583,\"pct_cnt_org_cf\":0.5994},\"d_60\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.6838,\"pct_cnt_cash\":0.525,\"pct_cnt_cc\":0.415,\"pct_cnt_cf\":0.6694,\"pct_cnt_org_all\":0.527,\"pct_cnt_org_cash\":0.3645,\"pct_cnt_org_cc\":0.289,\"pct_cnt_org_cf\":0.5324},\"d_7\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.9081,\"pct_cnt_cash\":0.8488,\"pct_cnt_cc\":0.7401,\"pct_cnt_cf\":0.8831,\"pct_cnt_org_all\":0.79,\"pct_cnt_org_cash\":0.6922,\"pct_cnt_org_cc\":0.559,\"pct_cnt_org_cf\":0.7708},\"d_90\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.6342,\"pct_cnt_cash\":0.4618,\"pct_cnt_cc\":0.3742,\"pct_cnt_cf\":0.6326,\"pct_cnt_org_all\":0.4841,\"pct_cnt_org_cash\":0.3177,\"pct_cnt_org_cc\":0.2584,\"pct_cnt_org_cf\":0.4979},\"m_12\":{\"cnt\":4,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":1,\"cnt_org\":3,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":1,\"pct_cnt_all\":0.6614,\"pct_cnt_cash\":0.4933,\"pct_cnt_cc\":0.4131,\"pct_cnt_cf\":0.6592,\"pct_cnt_org_all\":0.6541,\"pct_cnt_org_cash\":0.4806,\"pct_cnt_org_cc\":0.3939,\"pct_cnt_org_cf\":0.651},\"m_18\":{\"cnt\":6,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":2,\"cnt_org\":4,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":1,\"pct_cnt_all\":0.7215,\"pct_cnt_cash\":0.5693,\"pct_cnt_cc\":0.4839,\"pct_cnt_cf\":0.7124,\"pct_cnt_org_all\":0.6982,\"pct_cnt_org_cash\":0.5358,\"pct_cnt_org_cc\":0.4445,\"pct_cnt_org_cf\":0.6895},\"m_24\":{\"cnt\":6,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":2,\"cnt_org\":4,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":1,\"pct_cnt_all\":0.719,\"pct_cnt_cash\":0.5665,\"pct_cnt_cc\":0.4814,\"pct_cnt_cf\":0.7103,\"pct_cnt_org_all\":0.6959,\"pct_cnt_org_cash\":0.5334,\"pct_cnt_org_cc\":0.4423,\"pct_cnt_org_cf\":0.6876},\"m_4\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.6028,\"pct_cnt_cash\":0.4263,\"pct_cnt_cc\":0.3505,\"pct_cnt_cf\":0.6069,\"pct_cnt_org_all\":0.4564,\"pct_cnt_org_cash\":0.2922,\"pct_cnt_org_cc\":0.2405,\"pct_cnt_org_cf\":0.4724},\"m_5\":{\"cnt\":2,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":1,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.5836,\"pct_cnt_cash\":0.4055,\"pct_cnt_cc\":0.3349,\"pct_cnt_cf\":0.5907,\"pct_cnt_org_all\":0.4387,\"pct_cnt_org_cash\":0.277,\"pct_cnt_org_cc\":0.2285,\"pct_cnt_org_cf\":0.4553},\"m_6\":{\"cnt\":3,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":0,\"cnt_org\":2,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":0,\"pct_cnt_all\":0.6492,\"pct_cnt_cash\":0.4758,\"pct_cnt_cc\":0.3957,\"pct_cnt_cf\":0.649,\"pct_cnt_org_all\":0.6093,\"pct_cnt_org_cash\":0.428,\"pct_cnt_org_cc\":0.3477,\"pct_cnt_org_cf\":0.6125},\"m_9\":{\"cnt\":4,\"cnt_cash\":0,\"cnt_cc\":0,\"cnt_cf\":1,\"cnt_org\":3,\"cnt_org_cash\":0,\"cnt_org_cc\":0,\"cnt_org_cf\":1,\"pct_cnt_all\":0.6761,\"pct_cnt_cash\":0.509,\"pct_cnt_cc\":0.4267,\"pct_cnt_cf\":0.6722,\"pct_cnt_org_all\":0.6673,\"pct_cnt_org_cash\":0.495,\"pct_cnt_org_cc\":0.4061,\"pct_cnt_org_cf\":0.6625}},\"user_searched_history_by_orgs\":[{\"org_self\":true,\"searched_date\":\"2017-12-02\",\"searched_org\":\"其他\"},{\"org_self\":true,\"searched_date\":\"2017-11-27\",\"searched_org\":\"其他\"},{\"org_self\":false,\"searched_date\":\"2017-06-29\",\"searched_org\":\"其他\"},{\"org_self\":false,\"searched_date\":\"2017-03-03\",\"searched_org\":\"线上消费分期\"},{\"org_self\":false,\"searched_date\":\"2016-11-08\",\"searched_org\":\"其他\"},{\"org_self\":false,\"searched_date\":\"2016-09-26\",\"searched_org\":\"线上消费分期\"}],\"user_searched_statistic\":{\"searched_org_cnt\":4}},\"message\":\"获取蜜罐查询成功\",\"spend_time\":346,\"code\":\"MIGUAN_SEARCH_SUCCESS\"}";
        System.out.println(jsonStr);
        boolean a = gridReportService.resolveGridReport(2L , jsonStr);
        System.out.println(a);


        /*JSONObject object = JSON.parseObject(jsonStr);
        System.out.println(object);
        String resultCode = object.getString("code");
        if("MIGUAN_SEARCH_SUCCESS".equals(resultCode)){
            JSONObject data = JSON.parseObject(object.getString("data"));

            JxlGridReportEntity report = JSON.parseObject(object.getString("data") , JxlGridReportEntity.class);
            JSONObject userBasic = JSON.parseObject(data.getString("user_basic"));
            System.out.println(userBasic);
        }*/
    }

}
